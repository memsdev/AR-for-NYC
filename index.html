<!DOCTYPE html>
<html>
  
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <!-- we import arjs version without NFT but with marker + location based support -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <script src="https://github.com/imaya/zlib.js"></script>
  <link rel="stylesheet" href="styles.css">
  
    
  <script>
    sessionStorage.clear();
    sessionStorage.clickcount = 0;

    function navigate() {
      window.location.replace("https://nyc.memnfts.com")

    }

    function forwards() 
    {
      if (typeof(Storage) !== "undefined") {
          if (sessionStorage.clickcount) {
            if(sessionStorage.clickcount == 5)
            {
              sessionStorage.clickcount = 1;
            }
            else
            {
              sessionStorage.clickcount = Number(sessionStorage.clickcount)+1;
            }
          } else {
            sessionStorage.clickcount = Number(sessionStorage.clickcount)+1
        }}
        
        //back to front
        if(sessionStorage.clickcount == 5) {
          var nextButton = document.querySelector("img");
            nextButton.setAttribute("src", "pngs/next.png")

          //var nextButton = document.querySelector("#dynamic-model-1");

          //var currentDynamicModel = document.querySelector("#dynamic-model-" + String(sessionStorage.clickcount));
          var currentDynamicText = document.querySelector('#dynamic-text-' + String(sessionStorage.clickcount));
          //var nextDynamicModel = document.querySelector("#dynamic-model-1");
          var nextDynamicText = document.querySelector('#dynamic-text-1');
        

          //console.log("make " + String(sessionStorage.clickcount) + " invisible" );
          //console.log("make " + String(1) + " VISIBLE" );

          //currentDynamicModel.setAttribute("visible", false)
          currentDynamicText.setAttribute("visible", false)

          //nextDynamicModel.setAttribute("visible", true)
          nextDynamicText.setAttribute("visible", true)
        }
        else {
          if(sessionStorage.clickcount == 4) {     
            var nextButton = document.querySelector("img");
            nextButton.setAttribute("src", "pngs/startOver.png")
          }
          //var currentDynamicModel = document.querySelector("#dynamic-model-" + String(sessionStorage.clickcount));
          var currentDynamicText = document.querySelector('#dynamic-text-' + String(sessionStorage.clickcount));
          //var nextDynamicModel = document.querySelector("#dynamic-model-" + String(parseInt(sessionStorage.clickcount) + 1));
          var nextDynamicText = document.querySelector('#dynamic-text-' + String(parseInt(sessionStorage.clickcount) + 1));
        

          //console.log("make " + String(sessionStorage.clickcount) + " invisible" );
          //console.log("make " + String(parseInt(sessionStorage.clickcount) + 1) + " VISIBLE" );

          //currentDynamicModel.setAttribute("visible", false)
          currentDynamicText.setAttribute("visible", false)

          //nextDynamicModel.setAttribute("visible", true)
          nextDynamicText.setAttribute("visible", true)
        }
      }

    window.onload = function(){



    
      
          
          
};



  
  </script>
 
  
  <body style="margin : 0px; overflow: hidden;">

    
    <!--<div class="hooderContainer"> 
      <img src="pngs/footer_logo.png" class="headerButton" id="#next-button" onclick="forwards()">
    </div>-->
    
    <a-scene embedded arjs="detectionMode: mono_and_matrix; matrixCodeType: 3x3;"> 

      <a-marker type="barcode" value="0" emitevents="true" id="animated-marker" markerhandler>
      
      <a-entity scale=".4 .4 .4" rotation="0 0 0" position="0 0 0">

       
        
        <!--
          jump worksasdf
            spin works
        -->

        <a-entity id="dynamic-model-1" gltf-model="src: url(objects/wave.gltf);" scale="26 26 26"  position="0 .2 0" rotation="0 0 0" cycle-count 
        visible="false" animation-mixer="clip: *; clampWhenFinished: true;"></a-entity>

          <!--<a-image src="pngs/floor.png" position="0 0 0" scale="1.5 1.5 1.5" rotation="90 0 0"></a-image>-->
          <a-image src="pngs/mem.png" position="0 1 .3" scale="1.5 1.5 1.5"></a-image>
          <a-image src="pngs/clouds.png" position="0 2.5 -.3" scale="2 2 2"></a-image>
          <a-image id="dynamic-text-1" src="pngs/textBoxes/greetingTable/1.png" position=".5 2 .5" visible="true"></a-image>
          <a-image id="dynamic-text-2" src="pngs/textBoxes/greetingTable/2.png" position=".5 2 .5" visible="false"></a-image>
          <a-image id="dynamic-text-3" src="pngs/textBoxes/greetingTable/3.png" position=".5 2 .5" visible="false"></a-image>
          <a-image id="dynamic-text-4" src="pngs/textBoxes/greetingTable/4.png" position=".5 2 .5" visible="false"></a-image>
          <a-image id="dynamic-text-5" src="pngs/textBoxes/greetingTable/5.png" position=".5 2 .5" visible="false"></a-image>




          

      

           
    </a-entity>
      
      


        

   
        
      </a-marker>
      <a-entity camera>
     
      </a-entity>
    </a-scene>

    <div style="position:absolute; top:0px; left:0px; z-index:1000;">

      
  </div>

  
   <div class="footerContainer"> 
      <img src="pngs/next.png" class="footerButton" id="#next-button" onclick="forwards()">
    </div>

    <div class="headerContainer"> 
      <img src="pngs/header_logo.png" class="headerButton" id="#refresh-button" onclick="navigate()">
    </div>
  </body>
</html>