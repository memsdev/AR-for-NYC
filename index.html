<!DOCTYPE html>
<html>
  
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <!-- we import arjs version without NFT but with marker + location based support -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <script src="https://github.com/imaya/zlib.js"></script>
  <link rel="stylesheet" href="styles.css">
  
    
  <script>
    sessionStorage.clear();
    sessionStorage.clickcount = 0;

    function forwards() 
    {
      if (typeof(Storage) !== "undefined") {
          if (sessionStorage.clickcount) {
            if(sessionStorage.clickcount == 5)
            {
              sessionStorage.clickcount = 1;
            }
            else
            {
              sessionStorage.clickcount = Number(sessionStorage.clickcount)+1;
            }
          } else {
            sessionStorage.clickcount = Number(sessionStorage.clickcount)+1
        }}
        
        //back to front
        if(sessionStorage.clickcount == 5) {
          var nextButton = document.querySelector("img");
            nextButton.setAttribute("src", "pngs/next.png")

          var nextButton = document.querySelector("#dynamic-model-1");

          var currentDynamicModel = document.querySelector("#dynamic-model-" + String(sessionStorage.clickcount));
          var currentDynamicText = document.querySelector('#dynamic-text-' + String(sessionStorage.clickcount));
          var nextDynamicModel = document.querySelector("#dynamic-model-1");
          var nextDynamicText = document.querySelector('#dynamic-text-1');
        

          console.log("make " + String(sessionStorage.clickcount) + " invisible" );
          console.log("make " + String(1) + " VISIBLE" );

          currentDynamicModel.setAttribute("visible", false)
          currentDynamicText.setAttribute("visible", false)

          nextDynamicModel.setAttribute("visible", true)
          nextDynamicText.setAttribute("visible", true)
        }
        else {
          if(sessionStorage.clickcount == 4) {
            
            var nextButton = document.querySelector("img");
            nextButton.setAttribute("src", "pngs/startOver.png")
           // nextButton.setAttribute("src", "pngs/last.png")
          }
          var currentDynamicModel = document.querySelector("#dynamic-model-" + String(sessionStorage.clickcount));
          var currentDynamicText = document.querySelector('#dynamic-text-' + String(sessionStorage.clickcount));
          var nextDynamicModel = document.querySelector("#dynamic-model-" + String(parseInt(sessionStorage.clickcount) + 1));
          var nextDynamicText = document.querySelector('#dynamic-text-' + String(parseInt(sessionStorage.clickcount) + 1));
        

          console.log("make " + String(sessionStorage.clickcount) + " invisible" );
          console.log("make " + String(parseInt(sessionStorage.clickcount) + 1) + " VISIBLE" );

          currentDynamicModel.setAttribute("visible", false)
          currentDynamicText.setAttribute("visible", false)

          nextDynamicModel.setAttribute("visible", true)
          nextDynamicText.setAttribute("visible", true)
        }
      }

    window.onload = function(){



    
      
          
          
};



  
  </script>
 
  
  <body style="margin : 0px; overflow: hidden;">

    
    <!--<div class="hooderContainer"> 
      <img src="pngs/footer_logo.png" class="headerButton" id="#next-button" onclick="forwards()">
    </div>-->
    
    <a-scene embedded arjs="detectionMode: mono_and_matrix; matrixCodeType: 3x3;"> 

      <a-marker type="barcode" value="0" emitevents="true" id="animated-marker" markerhandler>
      
      <a-entity scale=".5 .5 .5" rotation="0 0 0" position="0 0 0">

        <a-entity geometry="primitive: box; width: 1; height: .2; depth: 1"  material="shader: flat; color: red; transparent: true" rotation="0 270 0"></a-entity>
        
        <!--
          jump works
            spin works
        -->

        <a-entity id="dynamic-model-1" gltf-model="src: url(objects/standingWave.gltf);" scale="26 26 26"  position="0 .2 0" rotation="0 0 0" cycle-count 
        visible="true" animation-mixer="clip: *; clampWhenFinished: true;"></a-entity>
        <a-text value="Hello, World1!"
          position="-.6 1.9 0"
          id="dynamic-text-1"
          visible="true"
          ></a-text>


        <a-entity id="dynamic-model-2" gltf-model="src: url(objects/backflip.gltf);" scale="25 25 25"  position="0 .2 0" animation-mixer rotation="0 0 0" cycle-count visible="false"></a-entity>
        <a-text value="Hello, World2!"
          position="-.6 1.9 0"
          id="dynamic-text-2"
          visible="false"
          ></a-text>


          <a-entity id="dynamic-model-3" gltf-model="src: url(objects/jump.gltf);" scale=".47 .47 .47"  position=".8 .2 0" animation-mixer rotation="0 0 0" cycle-count 
          visible="false"></a-entity>
          <a-text value="Hello, World3!"
            position="-.6 1.9 0"
            id="dynamic-text-3"
            visible="false"
            ></a-text>


          <a-entity id="dynamic-model-4" gltf-model="src: url(objects/spin.gltf);" scale="25 25 25"  position="0 .2 0" animation-mixer rotation="0 60 0" cycle-count 
          visible="false"></a-entity>
          <a-text value="Hello, World4!"
            position="-.6 1.9 0"
            id="dynamic-text-4"
            visible="false"
            ></a-text>

      

          <a-entity id="dynamic-model-5" gltf-model="src: url(objects/backflip.gltf);" scale="25 25 25"  position="0 .2 0" animation-mixer rotation="0 0 0" cycle-count visible="false"></a-entity>
          <a-text value="Hello, World5!"
            position="-.6 1.9 0"
            id="dynamic-text-5"
            visible="false"
            ></a-text>

          <a-entity id="dynamic-model-6" gltf-model="src: url(objects/waveToScale.gltf);" scale="26 26 26"  position="0 .2 0" animation-mixer="clip: *; clampWhenFinished: true;" rotation="0 0 0" cycle-count 
          visible="false"></a-entity>
    </a-entity>
      
      


        

   
        
      </a-marker>
      <a-entity camera>
     
      </a-entity>
    </a-scene>

    <div style="position:absolute; top:0px; left:0px; z-index:1000;">

      
  </div>

  
    <div class="footerContainer"> 
      <img src="pngs/next.png" class="footerButton" id="#next-button" onclick="forwards()">
    </div>

    <div class="headerContainer"> 
      <img src="pngs/header_logo.png" class="headerButton" id="#next-button" onclick="forwards()">
    </div>
  </body>
</html>